\section{Bitcoin scripting} \label{sec:appendix_script}

Bitcoin transactions are encoded using a Forth-like scripting
 system\footnote{Forth is an imperative stack based programming language
                 developed in the late '60s.}.
A script is a sequence of instructions that describes how an output can be
  spent.
The language does not have any jump or loop instructions, as it is purposefully
  not Turing-complete, in order to keep the execution of a script bounded.

A transaction is valid (can be redeemed) if its script evaluation does not
  trigger a failure and the top stack element is non false.
Using a script in the transaction provides flexibility to change the
  parameters required to redeem a transaction.

The script contains commands or functions (also known as opcodes) and raw data,
  as keys and addresses.
Commands available in the language can be grouped into a few groups:
  stack operations, as dup, push and drop;
  arithmetic operations on 32-bit signed integers, such as addition,
    substraction and comparison;
  cryptographic operations like hash calculations and signature check;
  flow control as if and elf.

There are some commands to mark the transaction invalid and make the
  output impossible to redeem on certain conditions, for instance before a
  certain time has elapsed since the transaction was included in the
  blockchain.

More information on the google scripting language can be found on the project
  wiki at \url{https://en.bitcoin.it/wiki/Script} and in the official client
  implementation at
  \url{https://github.com/bitcoin/bitcoin/blob/master/src/script/script.h}.



